#!/bin/bash

##
# Used alacritty hints to openv files in an existing nvim instance.
##

# convert python stack reference to file:line
file=$(echo "$@" | perl -pe 's|File "(.*)", line (\d+),.*|\1:\2|')

server=$(ls -1tr /run/user/$(id -u)/nvim* | head -1)
nvim --server $server --remote-send "<c-\><c-n>:split $file<cr>"
